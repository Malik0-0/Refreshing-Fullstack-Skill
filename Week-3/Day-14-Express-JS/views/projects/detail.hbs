<!-- ======= Detail Project Section ======= -->
<section id="project-detail" class="portfolio-details section-show">
  <div class="container">
    <div class="row">

      <div class="col-lg-8">
        <h2 class="portfolio-title text-success">{{project.title}}</h2>

        <div class="portfolio-details-slider swiper">
          <div class="swiper-wrapper align-items-center">
            {{#if project.images.length}}
              {{#each project.images}}
                <div class="swiper-slide">
                  <img src="{{this}}" alt="Project Image" style="width: 100%; height: 450px; object-fit: contain;">
                </div>
              {{/each}}
            {{else}}
              <div class="swiper-slide">
                <img src="/img/placeholder.jpg" alt="No image" style="width: 100%; height: 450px; object-fit: cover;">
              </div>
            {{/if}}
          </div>
          <div class="swiper-pagination"></div>
        </div>
      </div>

      <div class="col-lg-4 portfolio-info">
        <h3 class="text-success">Project Information</h3>
        <ul>
          <li><strong>Technologies:</strong> {{project.technologies}}</li>
          <li><strong>Project Link:</strong>
            <a href="{{project.github}}" target="_blank" class="text-success">
                <i class="devicon-github-original"></i>
            </a>
          </li>
        </ul>

        <p align="justify">{{project.long_desc}}</p>

        {{#if user}}
          <div class="mt-3 d-flex justify-content-between">
            <button class="btn btn-warning btn-sm" onclick="openEdit('{{project.id}}')">
              <i class="bi bi-pencil"></i> Edit
            </button>
            <button class="btn btn-danger btn-sm" onclick="deleteProject('{{project.id}}')">
              <i class="bi bi-trash"></i> Delete
            </button>
          </div>
        {{/if}}
      </div>

    </div>
  </div>
</section>

<!-- Edit Modal -->
<div class="modal fade" id="editModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content bg-dark text-light border-success">
      <form id="editForm" enctype="multipart/form-data">
        <div class="modal-header">
          <h5 class="modal-title text-success">Edit Project</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">
          <input type="hidden" id="editId">

          <div class="mb-3">
            <label class="form-label">Nama Project</label>
            <input type="text" class="form-control" id="editTitle" />
          </div>

          <div class="mb-3">
            <label class="form-label">Deskripsi Singkat</label>
            <input type="text" class="form-control" id="editShortDesc" />
          </div>

          <div class="mb-3">
            <label class="form-label">Deskripsi Panjang</label>
            <textarea class="form-control" id="editLongDesc" rows="4"></textarea>
          </div>

          <div class="mb-3">
            <label class="form-label">Link GitHub</label>
            <input type="text" class="form-control" id="editGithub" />
          </div>

          <div class="mb-3">
            <label class="form-label">Teknologi</label>
            <input type="text" class="form-control" id="editTechnologies" />
          </div>

          <div class="mb-3">
            <label class="form-label">Upload Gambar</label>
            <input type="file" class="form-control" id="editImages" accept="image/*" multiple />
            <div id="imagePreview" class="d-flex flex-wrap gap-2 mt-3"></div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
          <button type="submit" class="btn btn-success">Simpan Perubahan</button>
        </div>
      </form>
    </div>
  </div>
</div>